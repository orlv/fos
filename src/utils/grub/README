
fos-x.x.xx.x-xxxx.img.bz2 - образ дискеты с установленным загрузчиком GRUB
menu.lst - конфиг для GRUB


Для установки GRUB на жесткий диск надо сделать следующее:

0. Распаковываем образ дискеты (fos-x.x.xx.x-xxxx.img.bz2)

1. Создаём дискету с образа

    В *nix:
    cat floppy.img > /dev/fd0

    В W*ndows для этого можно воспользоваться программой RAWRITE

2. Скопируем с дискеты каталог "boot" в корень жесткого диска.

3. Конфигурационный файл grub'a - boot/grub/menu.lst

 Параметры:

 timeout - время ожидания в секундах до автоматической загрузки выбранной ОС.
 !!! Ни в коем случае нельзя ставить значение этого параметра равным 0, 
    так как в этом случае из загрузочного меню нельзя будет выбрать другую ОС для загрузки.

 root (hd0,0) - загружаться с диска 0, раздел 0. 
    Можно просмотреть список доступных дисков, введя "root (" и нажав Tab
    Список разделов можно просмотреть аналогичным образом.
    
    Жёсткие диски - hd0, hd1, hd2, hd3
    Флоппи - fd0

 kernel /fos/kernel - путь к ядру на выбранном командой root разделе. 
    Опять же, кнопка Tab вам поможет :)

4. Загружаемся с этой дискеты, в GRUB'е нажимаем кнопку 'C' для перехода
   в командный режим.

5. Теперь установим загрузочную записи:

    Допустим, в п.2 мы скопировали папку на диск /dev/hda1 (Диск С:)
    Тогда наши действия таковы:
    
    root (hd0,0)
    setup (hd0)

    Поздравляю! GRUB установлен.


ЗЫ: Для удаления GRUB'а и восстановления стандартной загрузочной записи
    надо загрузиться с дискеты MSDOS и ввести: fdisk /mbr


ЗЫ2: Совсем не обязательно устанавливать GRUB, чтобы им воспользоваться -
    достаточно подправить должным образом конфиг на дискете и загружаться с неё.

Пнд 12 Июн 2006 22:24:26 Oleg Fedorov
